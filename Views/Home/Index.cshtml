@model OnlineShopingStore.Models.Home.HomeIndexViewModel
@using PagedList;

@using PagedList.Mvc;

@{
    ViewBag.Title = "Home Page";


}

<style>
    .carousel-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.3);
    }

    .carousel-caption {
        bottom: 30%;
        text-shadow: 1px 1px 3px rgba(0,0,0,0.8);
    }

    .product-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border-radius: 10px;
        overflow: hidden;
    }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

    .badge-container {
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 1;
    }

    .badge {
        font-size: 0.8rem;
        padding: 5px 10px;
    }

    .search-section {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }

    .section-header hr {
        opacity: 1;
    }

    .feature-box {
        transition: transform 0.3s ease;
        height: 100%;
    }

        .feature-box:hover {
            transform: translateY(-5px);
        }
</style>


<div id="themeSlider" class="carousel slide" data-ride="carousel" style="margin: 0 20px; border-radius: 15px; overflow: hidden;">
    <ol class="carousel-indicators">
        <li data-target="#themeSlider" data-slide-to="0" class="active"></li>
        <li data-target="#themeSlider" data-slide-to="1"></li>
        <li data-target="#themeSlider" data-slide-to="2"></li>
    </ol>

    <div class="carousel-inner">
        <div class="item active">
            <div class="imgOverlay"></div>
            <img style="height:400px;width:100%; border-radius: 0;" src="~/Images/istockphoto-458990823-612x612.jpg" alt="First slide">
        </div>
        <div class="item">
            <div class="imgOverlay"></div>
            <img style="height:400px;width:100%; border-radius: 0;" src="~/Images/istockphoto-458610715-612x612.jpg" alt="Second slide">
        </div>
        <div class="item">
            <div class="imgOverlay"></div>
            <img style="height:400px;width:100%; border-radius: 0;" src="~/Images/istockphoto-1398204953-612x612.jpg" alt="Third slide">
        </div>
    </div>

    <a class="left carousel-control" href="#themeSlider" data-slide="prev">
        <span class="fa fa-chevron-left"></span>
    </a>
    <a class="right carousel-control" href="#themeSlider" data-slide="next">
        <span class="fa fa-chevron-right"></span>
    </a>
</div>


@*<div class="olContent f1"><h2 style="color:black">Search Product/Category</h2></div>
    <div class="olSearch fr">
        <input type="text" placeholder="Enter Keyword" name="SearchKey" class="inputComn houseText form-control border-0" style="flex: 1; outline: none;" />
    <div class="searchIcon">
        <button type="button" class="searchBtn border-0 bg-transparent">
            <img src="~/Images/icons8-search-30.png" alt="Search" class="search-icon" />
        </button>
    </div>
    </div>*@
@*<div class="olContent f1">
        <h2 style="color:black">Search Product/Category</h2>
        <div class="olSearch fr d-flex align-items-center border rounded">
            <input type="text" placeholder="Enter Keyword"  class="inputComn  form-control ">
            <button type="button" class="searchBtn btn ">
                <img src="/Images/icons8-search-30.png" alt="Search" class="search-icon">
            </button>
        </div>

    </div>*@

@*<div class="olContent f1">
        <h2 style="color:black">Search Product/Category</h2>
        <form method="post">
            <div class="olSearch d-flex align-items-center border rounded">
                <input type="text" placeholder="Enter Keyword" class="inputComn form-control">
                <div class="search-icon">
                    <button type="button" class="searchBtn btn">
                        <img src="/Images/icons8-search-30.png" alt="Search" class="search-icon">
                    </button>
                </div>

        </form>
        </div>
    </div>*@
@*<div class="olContent f1">
        <h2 style="color:black">Search Product/Category</h2>
        <form action="@Url.Action("Index", "Home")" method="get" class="d-flex  ">
            <input type="text" name="search" placeholder="Enter Keyword" class="inputComn " />

            <button type="submit" class="searchBtn btn">
                <img src="/Images/icons8-search-30.png" alt="Search" class="search-icon" />
            </button>
            <button type="button" onclick="window.location.href='@Url.Action("Index", "Home")'" class="btn btn-secondary ml-2">
                Reset
            </button>
        </form>
    </div>*@


@*<select name="genreId" class="form-control mx-2" style="min-width: 200px;">
        <option value="">All Genres</option>
        @foreach (var genre in ViewBag.Genres as SelectList)
        {
            <option value="@genre.Value" @(Request["genreId"] == genre.Value ? "selected" : "")>
                @genre.Text
            </option>
        }
    </select>*@
<div class="olContent f1" style=" margin: 0 20px" ;>
    <h2 style="color:black">Search Product/Category</h2>
    <form action="@Url.Action("Index", "Home")" method="get" class="d-flex gap-2">
        <input type="text" name="search" placeholder="Enter Keyword" class="form-control mr-2" style="border-radius: 20px;" value="@Request["search"]" />
        @*@foreach (var genre in Model.Genres)
        {
            <a href="@Url.Action("Index", "Home", new { genre = genre })" class="btn btn-outline-primary m-1">
                @genre
            </a>
        }*@
        @Html.DropDownList("genre", new SelectList(Model.Genres, Request["genre"]), "All Genres", new { @class = "form-control mr-2", style = "border-radius: 20px;" })



        <button type="submit" class="btn btn-primary ml-2" style="border-radius: 20px;">
            <img src="/Images/icons8-search-30.png" style="height:18px;width:20px" alt="Search" class="search-icon" />
        </button>
        <button type="button" onclick="window.location.href='@Url.Action("Index", "Home")'" class="btn btn-secondary ml-2" style="border-radius: 20px; height:35px">
            Reset
        </button>
    </form>
</div>



<!-- Products Section -->
<div class="container my-5" id="products">
    <div class="section-header mb-5">
        <h2 class="display-5 text-center">Our Products</h2>
        <p class="lead text-center text-muted">Trending items loved by our customers</p>
        <hr class="w-25 mx-auto bg-primary" style="height:2px">
    </div>

    <div class="row">
        @foreach (var item in Model.ListofProducts)
        {
            <div class="col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="card product-card h-100 border-0 shadow-sm">
                    <div class="badge-container">
                        @if (item.IsFeatured.GetValueOrDefault())
                        {
                            <span class="badge badge-success">NEW</span>
                        }
                        @if (item.Quantity <= 0)
                        {
                            <span class="badge badge-danger">SOLD OUT</span>
                        }
                    </div>

                    <img class="card-img-top p-3" src="~/ProductImg/@item.ProductImage" alt="@item.ProductName" style="height:200px;object-fit:contain">

                    <div class="card-body">
                        <h5 class="card-title">@item.ProductName</h5>
                        <p class="card-text text-primary font-weight-bold">₹@item.Price</p>
                        <div class="d-flex justify-content-between align-items-center">
                            @if (item.Quantity > 0)
                            {
                                using (Html.BeginForm("AddToCart", "Home", new { productId = item.ProductId }, FormMethod.Post))
                                {
                                    @Html.Hidden("productId", item.ProductId)


                                    <button type="submit" class="btn btn-outline-primary btn-sm">
                                        <i class="fas fa-cart-plus"></i> Add to Cart
                                    </button>

                                }
                                <small class="text-success"><i class="fas fa-check-circle"></i> In Stock</small>
                            }
                            else
                            {
                                <small class="text-danger"><i class="fas fa-times-circle"></i> Out of Stock</small>
                            }

                        </div>
                    </div>
                    <div class="card-footer bg-white border-top-0">
                        <a href="@Url.Action("Details", "Home", new { productId = item.ProductId })"
                           class="btn btn-link text-secondary btn-block">
                            <i class="fas fa-eye"></i> View Details
                        </a>
                    </div>
                </div>
            </div>
        }
    </div>
    <!-- Features Section -->
    <div class="container-fluid bg-light py-5">
        <div class="container">
            <div class="row text-center" style=" margin: 100px;">
                <div class="col-md-4 mb-3 mb-md-0">
                    <div class="feature-box p-4 rounded shadow-sm bg-white">
                        <i class="fas fa-truck fa-3x text-primary mb-3"></i>
                        <h4>Free Shipping</h4>
                        <p class="text-muted">On all orders over $50</p>
                    </div>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <div class="feature-box p-4 rounded shadow-sm bg-white">
                        <i class="fas fa-undo fa-3x text-primary mb-3"></i>
                        <h4>Easy Returns</h4>
                        <p class="text-muted">30-day return policy</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-box p-4 rounded shadow-sm bg-white">
                        <i class="fas fa-lock fa-3x text-primary mb-3"></i>
                        <h4>Secure Payment</h4>
                        <p class="text-muted">100% secure checkout</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<div class="container">
    <br />
    @Html.PagedListPager(
    Model.ListofProducts,
    pageNum => Url.Action("Index", new { page = pageNum, search = Request.QueryString["search"] }))
</div>